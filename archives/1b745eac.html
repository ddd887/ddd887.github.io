<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>密钥类型介绍 | 是苹果啊</title><meta name="keywords" content="加密平台"><meta name="author" content="是苹果啊"><meta name="copyright" content="是苹果啊"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="各种密钥类型的用途和使用场景">
<meta property="og:type" content="article">
<meta property="og:title" content="密钥类型介绍">
<meta property="og:url" content="https://ddd887.github.io/archives/1b745eac.html">
<meta property="og:site_name" content="是苹果啊">
<meta property="og:description" content="各种密钥类型的用途和使用场景">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic.888888.al/i/2024/11/07/r23hxj.jpg">
<meta property="article:published_time" content="2024-11-07T07:46:42.096Z">
<meta property="article:modified_time" content="2024-11-07T08:47:16.200Z">
<meta property="article:author" content="是苹果啊">
<meta property="article:tag" content="加密平台">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic.888888.al/i/2024/11/07/r23hxj.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://ddd887.github.io/archives/1b745eac"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="code-zuJFBZJSKG"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '密钥类型介绍',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-11-07 16:47:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/constown/HexoCustomFile@0.0.4/dist/css/custom.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic.888888.al/i/2023/08/15/qn7803.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://pic.888888.al/i/2024/11/07/r23hxj.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">是苹果啊</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">密钥类型介绍</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-11-07T07:46:42.096Z" title="发表于 2024-11-07 15:46:42">2024-11-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-07T08:47:16.200Z" title="更新于 2024-11-07 16:47:16">2024-11-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%8A%A0%E5%AF%86%E5%B9%B3%E5%8F%B0/">加密平台</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="密钥类型介绍"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ZPK（Zone-Pin-Key）"><a href="#ZPK（Zone-Pin-Key）" class="headerlink" title="ZPK（Zone Pin Key）"></a>ZPK（Zone Pin Key）</h1><p><strong>ZPK</strong>（<strong>Zone Pin Key</strong>)是一种专门用于金融交易中加密 PIN 码的密钥类型，特别是在 ATM 和 POS 终端的交易过程中使用。ZPK 是金融支付系统中特定领域的密钥，用于保护在不同区域（Zone）之间传输的敏感数据（如 PIN 和其他交易信息），确保这些数据在传输过程中不会被窃取或篡改。</p>
<h2 id="ZPK-的用途："><a href="#ZPK-的用途：" class="headerlink" title="ZPK 的用途："></a>ZPK 的用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.加密和解密 PIN：ZPK 主要用于加密和解密用户输入的 PIN 码，确保在终端和银行主机之间传输的 PIN 是安全的。</span><br><span class="line"></span><br><span class="line">2.区域间密钥交换：ZPK 通常用于在不同加密区（如银行网络和支付处理器网络）之间传输数据时对 PIN 进行加密。不同的加密区使用不同的 ZPK 来保证区域间的安全通信。</span><br><span class="line"></span><br><span class="line">3.金融网络中的数据保护：ZPK 是金融网络中常用的密钥类型之一，能够保护交易过程中使用的敏感信息不被暴露或被恶意攻击者利用。</span><br></pre></td></tr></table></figure>

<h2 id="ZPK-典型使用场景："><a href="#ZPK-典型使用场景：" class="headerlink" title="ZPK 典型使用场景："></a>ZPK 典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● ATM 交易：在用户输入 PIN 码后，ATM 终端会使用 ZPK 对 PIN 进行加密，并将加密后的 PIN 发送给银行的验证系统。</span><br><span class="line"></span><br><span class="line">● POS 终端交易：在商家 POS 终端中，用户输入 PIN 码后，POS 设备使用 ZPK 加密 PIN，并通过支付处理网络将加密的 PIN 传输到银行的主机进行验证。</span><br></pre></td></tr></table></figure>

<h2 id="ZPK-的安全机制："><a href="#ZPK-的安全机制：" class="headerlink" title="ZPK 的安全机制："></a>ZPK 的安全机制：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● 对称加密：ZPK 通常使用对称加密算法（如 DES 或 3DES）来对 PIN 码进行加密和解密。由于对称加密算法需要使用相同的密钥进行加密和解密，ZPK 需要在发送和接收双方之间共享。</span><br><span class="line"></span><br><span class="line">● 密钥管理系统：ZPK 的生成、分发和管理都通过严格的密钥管理系统（如 HSM，硬件安全模块）进行，以确保 ZPK 本身的安全性。</span><br></pre></td></tr></table></figure>

<h2 id="ZPK-与其他密钥类型的区别："><a href="#ZPK-与其他密钥类型的区别：" class="headerlink" title="ZPK 与其他密钥类型的区别："></a>ZPK 与其他密钥类型的区别：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● TPK（Terminal Pin Key）：TPK 是终端密钥，用于在 ATM 或 POS 终端中加密 PIN。TPK 和 ZPK 类似，但 ZPK 用于跨区域的 PIN 传输，而 TPK 主要在终端设备中使用。</span><br><span class="line">● MK（Master Key）：ZPK 是在主密钥（Master Key）下生成的子密钥。Master Key 通常用于保护 ZPK 等密钥的传输和存储。</span><br></pre></td></tr></table></figure>
<h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>ZPK 是一种重要的金融交易密钥，用于加密在 ATM 和 POS 终端中输入的 PIN 码，并确保这些敏感信息在不同区域之间传输时的安全性。</p>
<h1 id="ZAK（Zone-Authentication-Key）"><a href="#ZAK（Zone-Authentication-Key）" class="headerlink" title="ZAK（Zone Authentication Key）"></a>ZAK（Zone Authentication Key）</h1><p><strong>ZAK</strong>（<strong>Zone Authentication Key</strong>）是一种用于金融交易和支付系统中的密钥类型，主要用于认证不同区域之间的数据传输和通信的合法性和安全性。它通常用于确保敏感数据（如卡片信息、交易数据）在不同加密区域（Zone）之间进行安全的认证传输。</p>
<h2 id="ZAK-的用途："><a href="#ZAK-的用途：" class="headerlink" title="ZAK 的用途："></a>ZAK 的用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.区域间认证：ZAK 主要用于在不同安全区域之间传递数据时，确保数据的完整性和真实性。它通过加密认证来验证数据的来源和接收方，确保传输过程中的数据不会被篡改或伪造。</span><br><span class="line"></span><br><span class="line">2.加密和解密认证信息：ZAK 常用于加密区域（如支付处理网络、银行系统）之间交换认证信息，以验证交易的合法性。</span><br><span class="line"></span><br><span class="line">3.保护敏感数据：ZAK 被用来保护在不同加密区域之间传输的敏感数据，确保这些数据在传输时不会被截取或修改。</span><br></pre></td></tr></table></figure>

<h2 id="ZAK-的工作原理："><a href="#ZAK-的工作原理：" class="headerlink" title="ZAK 的工作原理："></a>ZAK 的工作原理：</h2><p>ZAK 一般通过对称加密算法（如 DES、3DES）来加密和解密认证信息。它用于认证两端（发送方和接收方）之间的通信，验证消息是否来自可信任的源，并且未被篡改。</p>
<h2 id="ZAK-的典型使用场景："><a href="#ZAK-的典型使用场景：" class="headerlink" title="ZAK 的典型使用场景："></a>ZAK 的典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● ATM 和 POS 终端中的认证：当一个区域（如 POS 终端或 ATM）与银行主机通信时，ZAK 用于认证这些设备之间的通信是否安全，并确保传输的交易数据或 PIN 码未被篡改。</span><br><span class="line"></span><br><span class="line">● 金融机构之间的认证：在银行、支付处理商、信用卡公司等不同的金融机构之间，ZAK 用于认证每一笔交易的合法性和真实性。</span><br></pre></td></tr></table></figure>

<h2 id="ZAK-与其他密钥类型的区别："><a href="#ZAK-与其他密钥类型的区别：" class="headerlink" title="ZAK 与其他密钥类型的区别："></a>ZAK 与其他密钥类型的区别：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● ZPK（Zone Pin Key）：ZPK 专门用于加密和解密 PIN 码，而 ZAK 则用于认证区域间的通信数据，确保通信的完整性和合法性。</span><br><span class="line"></span><br><span class="line">● TPK（Terminal Pin Key）：TPK 主要用于终端设备（如 ATM 和 POS 终端）与服务器之间的 PIN 码加密，而 ZAK 更关注区域之间的数据认证。</span><br><span class="line">   </span><br><span class="line">● KEK（Key Encryption Key）：KEK 是用来加密其他密钥的密钥，而 ZAK 则直接用于认证数据和区域之间的通信。</span><br></pre></td></tr></table></figure>

<h2 id="总结：-1"><a href="#总结：-1" class="headerlink" title="总结："></a>总结：</h2><p>ZAK（Zone Authentication Key）是一种关键的认证密钥，广泛应用于金融系统中，确保不同区域之间的数据传输的安全性和真实性。通过加密和认证，ZAK 确保敏感交易数据在跨区域传输时不被篡改或伪造，从而保证整个支付系统的安全性。</p>
<h1 id="ZMK（Zone-Master-Key）"><a href="#ZMK（Zone-Master-Key）" class="headerlink" title="ZMK（Zone Master Key）"></a>ZMK（Zone Master Key）</h1><p><strong>ZMK</strong>（<strong>Zone Master Key</strong>）是一种在金融交易系统中常用的密钥类型，主要用于在不同区域（Zone）之间安全传输其他密钥，如加密 PIN 码的密钥（ZPK）和认证密钥（ZAK）。它是一种高等级的加密密钥，常用于密钥的分发和管理，确保密钥在不同区域或系统之间传递时的安全性。</p>
<h2 id="ZMK-的主要用途："><a href="#ZMK-的主要用途：" class="headerlink" title="ZMK 的主要用途："></a>ZMK 的主要用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 密钥的加密和传输：ZMK 的主要作用是保护其他密钥（如 ZPK、ZAK、TPK）在不同设备、系统或区域之间传输时的安全性。ZMK 本身不会直接加密交易数据，而是加密用于数据加密的工作密钥。</span><br><span class="line"></span><br><span class="line">2. 区域间密钥交换：ZMK 在金融交易网络的不同区域（如 ATM、POS 终端与银行服务器之间）中，用来加密和传输密钥。通过 ZMK 传输的密钥可以在区域之间安全交换，确保密钥不会在传输过程中被窃取或篡改。</span><br><span class="line"></span><br><span class="line">3. 密钥管理系统的一部分：ZMK 是密钥管理体系中至关重要的一环，用于建立安全的密钥分发和管理流程，通常配合硬件安全模块（HSM）来管理密钥的生成、存储和传输。</span><br></pre></td></tr></table></figure>

<h2 id="ZMK-的工作原理："><a href="#ZMK-的工作原理：" class="headerlink" title="ZMK 的工作原理："></a>ZMK 的工作原理：</h2><p>ZMK 通常使用对称加密算法（如 DES 或 3DES）来加密其他密钥。它的工作方式是，首先生成 ZMK，并在安全环境中（如 HSM）存储，然后在需要将其他密钥从一个区域传输到另一个区域时，使用 ZMK 对这些密钥进行加密。接收方使用相同的 ZMK 解密，从而安全获取密钥。</p>
<h2 id="ZMK-的典型使用场景："><a href="#ZMK-的典型使用场景：" class="headerlink" title="ZMK 的典型使用场景："></a>ZMK 的典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● ATM 与银行主机之间的密钥传输：在 ATM 系统中，ZMK 用来在 ATM 终端和银行主机之间传输加密的工作密钥，如 ZPK、ZAK 等，确保 PIN 码和交易数据加密的安全性。</span><br><span class="line"></span><br><span class="line">● POS 终端中的密钥管理：在 POS 终端与支付网关之间，ZMK 被用来安全传输用于加密 PIN 的 ZPK，确保终端设备和银行系统之间的密钥管理安全。</span><br><span class="line"></span><br><span class="line">● 金融机构之间的密钥交换：在银行、信用卡公司和支付处理器等不同金融机构之间，ZMK 用于加密并安全传输各类工作密钥，确保交易系统的安全性和稳定性。</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">## ZMK 与其他密钥类型的区别：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>● ZPK（Zone Pin Key）：ZPK 是用于加密和解密 PIN 码的密钥，而 ZMK 则是用于加密和传输 ZPK 等工作密钥。</p>
<p>● KEK（Key Encryption Key）：KEK 也用于加密其他密钥，类似于 ZMK，但 ZMK 主要在区域之间使用，而 KEK 可能用于更多场景的密钥保护和传输。</p>
<p>● Master Key（主密钥）：ZMK 是一种主密钥类型，专门用于区域间的密钥交换和保护，而其他主密钥可以用于更广泛的加密场景。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## ZMK 的安全管理：</span><br><span class="line">由于 ZMK 是高度敏感的密钥，通常使用硬件安全模块（HSM）来生成、存储和管理 ZMK。在金融交易网络中，ZMK 的生成和分发必须遵循严格的安全标准，如 PCI-DSS（支付卡行业数据安全标准），以确保整个系统的密钥管理安全可靠。</span><br><span class="line">## 总结：</span><br><span class="line">ZMK（Zone Master Key）是用于加密和传输其他密钥的主密钥，确保在不同区域或系统之间传输的密钥安全可靠。它是金融交易系统中密钥管理的重要组成部分，广泛用于 ATM、POS 终端和银行主机之间的密钥交换和加密传输。</span><br><span class="line"></span><br><span class="line"># TMK（Terminal Master Key）</span><br><span class="line">TMK（Terminal Master Key）是金融交易系统中的一种密钥类型，主要用于管理终端设备（如 ATM、POS 终端）的主密钥。TMK 是终端加密体系中的关键元素，它为终端设备提供密钥管理和加密功能，确保交易数据的安全性。TMK 主要用于加密传输其他工作密钥，如 TPK（Terminal Pin Key）、TAK（Terminal Authentication Key），从而确保交易过程中敏感数据的加密传输安全。</span><br><span class="line">## TMK 的主要用途：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.密钥管理：TMK 是终端设备的主密钥，用于加密和保护其他在终端中使用的工作密钥，如 TPK（用于加密 PIN 码）和 TAK（用于终端认证）。通过使用 TMK，终端设备可以安全地接收、存储和管理这些工作密钥。</p>
<p>2.密钥的加密和传输：TMK 在终端与银行主机或支付处理机构之间传输其他工作密钥时，充当加密密钥。它可以保护这些工作密钥的安全，防止密钥在传输过程中被截取或篡改。</p>
<p>3.终端安全认证：TMK 还可以用于认证终端设备，确保它与后台系统的通信是可信的。通过 TMK，终端可以生成和验证数字签名，从而防止未经授权的设备接入网络。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TMK 的工作原理：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>● 对称加密：TMK 通常使用对称加密算法（如 DES、3DES）进行加密操作。它存储在 ATM 或 POS 终端中，用来加密和解密其他密钥，以确保交易数据在传输过程中保持加密状态。</p>
<p>● 密钥注入：在设备初次配置或重新配置时，TMK 会被安全地注入到终端设备中。密钥注入通常通过安全通道进行，确保 TMK 本身不会被窃取或泄露。</p>
<p>● 密钥分发和更新：TMK 的分发和更新通过严格的密钥管理系统完成。当需要更新 TMK 时，会使用安全通道来传输新的密钥，以确保设备的密钥安全性和完整性。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TMK 的典型使用场景：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.ATM 终端：在 ATM 终端中，TMK 用于保护其他用于交易的工作密钥，如加密 PIN 码的 TPK。ATM 通过 TMK 来接收并保护从银行主机发送的工作密钥，确保交易数据的安全传输。</p>
<p>2.POS 终端：在 POS 终端中，TMK 用于管理和保护用于加密交易数据的密钥。POS 设备在与银行或支付处理商通信时，TMK 用于确保传输密钥的安全性。</p>
<p>3.终端与支付网关之间的通信：当终端设备需要与支付网关或银行服务器进行安全通信时，TMK 可以加密终端的工作密钥，确保数据传输过程的安全。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TMK 与其他密钥类型的区别：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>● TPK（Terminal Pin Key）：TPK 是用于加密用户输入的 PIN 码的工作密钥，而 TMK 是用于保护和传输 TPK 等工作密钥的主密钥。</p>
<p>● ZMK（Zone Master Key）：ZMK 主要用于在不同加密区域之间传输密钥，而 TMK 专门用于管理终端设备中的密钥，特别是在 ATM 和 POS 设备上。</p>
<p>● KEK（Key Encryption Key）：KEK 是一种加密密钥的密钥，类似于 TMK，但 KEK 的应用范围更广，而 TMK 特别用于终端设备。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TMK 的安全管理：</span><br><span class="line">由于 TMK 是终端设备中非常关键的安全元素，其管理通常通过硬件安全模块（HSM）来进行，以确保密钥的生成、注入、存储和传输的安全。为了保护 TMK 不被泄露，金融机构通常使用双因素或多因素身份验证来确保密钥管理的安全性。TMK 还会定期更新，以防止长期使用的密钥被破解。</span><br><span class="line">## 总结：</span><br><span class="line">TMK（Terminal Master Key）是金融交易系统中的重要主密钥，用于管理和保护终端设备（如 ATM 和 POS 终端）中的其他工作密钥。它确保终端设备在交易过程中能够安全地传输和处理敏感信息，如用户的 PIN 码和交易数据。通过使用 TMK，可以确保终端设备与银行或支付处理机构之间的通信安全可靠。</span><br><span class="line"></span><br><span class="line"># TPK（Terminal Pin Key）</span><br><span class="line">TPK（Terminal Pin Key）是一种用于加密和解密用户在终端设备（如 ATM、POS 终端）输入的 PIN 码的密钥类型。TPK 是在金融交易系统中确保用户 PIN 码安全的重要元素，通过 TPK 加密，用户的 PIN 码可以在终端设备和银行主机之间的通信中得到保护，防止在传输过程中被窃取或篡改。</span><br><span class="line">## TPK 的主要用途：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li><p>PIN 码加密：TPK 的主要功能是对用户在 ATM 或 POS 终端中输入的 PIN 码进行加密，确保在设备与银行主机之间传输时 PIN 不被泄露。加密后的 PIN 码通常会与其他交易信息一起发送到银行服务器进行验证。</p>
</li>
<li><p>PIN 码解密：在银行主机或支付处理中心，接收到通过 TPK 加密的 PIN 码后，使用相应的 TPK 对 PIN 码进行解密，从而验证用户输入的 PIN 码是否正确。</p>
</li>
<li><p>安全传输：TPK 保障了终端设备与后台服务器之间的通信安全，特别是敏感的用户认证信息（如 PIN 码）的传输安全。TPK 加密后的 PIN 码即使在传输过程中被截获，攻击者也无法解密得到实际的 PIN 码。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TPK 的工作原理：</span><br><span class="line">TPK 通常通过对称加密算法（如 DES、3DES）来加密和解密 PIN 码。以下是 TPK 的工作过程：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>● 加密过程：用户在 ATM 或 POS 终端输入 PIN 码后，终端使用 TPK 对 PIN 进行加密。加密后的 PIN 码会与其他交易信息（如卡号、交易金额等）一起发送到银行主机。</p>
</li>
</ol>
<p>● 解密过程：在银行主机或支付处理器接收到加密的 PIN 后，使用相同的 TPK 对加密的 PIN 码进行解密，获取用户输入的真实 PIN 码，然后与银行系统中存储的 PIN 进行比对验证。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TPK 的典型使用场景：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.ATM 交易：当用户在 ATM 终端输入 PIN 码进行取款、转账或余额查询时，ATM 终端会使用 TPK 对用户的 PIN 码进行加密，并将加密的 PIN 码发送到银行主机进行验证。</p>
<p>2.POS 终端交易：在 POS 终端中，用户输入 PIN 码进行支付时，POS 设备使用 TPK 对该 PIN 码进行加密，并通过支付网关将加密后的 PIN 码发送到银行服务器进行验证。</p>
<p>3.金融机构间的交易认证：在金融机构之间进行交易时，TPK 也用于加密和传输 PIN 码，确保交易认证的安全性和准确性。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TPK 与其他密钥类型的区别：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>● TMK（Terminal Master Key）：TMK 是终端设备中的主密钥，用于加密和保护 TPK 等工作密钥。TMK 确保 TPK 在终端设备中安全存储和传输，而 TPK 主要用于加密 PIN 码。</p>
<p>● ZPK（Zone Pin Key）：ZPK 也是用于加密 PIN 的密钥，但 ZPK 主要用于跨区域的 PIN 传输，比如在不同金融机构或不同区域之间传输加密的 PIN，而 TPK 专门用于终端设备与银行主机之间的 PIN 码加密。</p>
<p>● KEK（Key Encryption Key）：KEK 用于加密其他密钥，而不是用于直接加密 PIN 码。TPK 是用于终端设备中 PIN 码的加密，而 KEK 则通常用于加密和传输 TPK 等工作密钥。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TPK 的安全管理：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li><p>密钥注入：TPK 通常通过安全通道注入到 ATM 或 POS 终端中。这些密钥的注入过程必须在高度安全的环境下进行，通常由硬件安全模块（HSM）或经过加密的密钥管理系统完成。</p>
</li>
<li><p>密钥更新：TPK 需要定期更新，以防止因长期使用导致的密钥泄露或破解风险。密钥更新同样通过安全的加密通道进行。</p>
</li>
<li><p>防止篡改：TPK 的存储和使用在终端设备中受到严格保护，防止物理篡改或攻击。ATM 和 POS 终端通常采用防篡改设计，确保密钥在设备遭受攻击时不会泄露。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## 总结：</span><br><span class="line">TPK（Terminal Pin Key）是金融交易系统中用于加密和保护用户在终端设备输入的 PIN 码的重要密钥。通过 TPK 加密，用户的 PIN 码可以安全地在 ATM、POS 终端和银行主机之间传输，有效防止 PIN 码在通信过程中被窃取或篡改。TPK 是确保交易系统中用户身份认证安全的关键元素。</span><br><span class="line"></span><br><span class="line"># TAK（Terminal Authentication Key）</span><br><span class="line">TAK（Terminal Authentication Key）是用于金融交易系统中终端设备（如 ATM、POS 终端）的认证密钥。它的主要作用是确保终端设备和银行或支付处理系统之间的通信是可信和安全的。通过使用 TAK，可以验证终端设备的合法性，防止未经授权的设备接入交易系统，从而保障交易的安全性。</span><br><span class="line">## TAK 的主要用途：</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>终端设备认证：TAK 用于对终端设备进行身份验证，确保其是经过授权的合法设备。银行或支付系统通过 TAK 验证终端的合法性，确保只有被认证的设备能够进行交易。</p>
</li>
<li><p>防止设备欺诈：通过 TAK 验证，可以防止伪造的终端设备进入银行或支付网络。这有效降低了因非法设备引发的安全风险，如 PIN 窃取、伪造交易等。</p>
</li>
<li><p>通信数据的完整性和真实性：TAK 用于生成数字签名或消息认证码（MAC），确保终端设备与银行服务器之间的通信数据没有被篡改，并且数据的来源是可信的。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## TAK 的工作原理：</span><br><span class="line"></span><br><span class="line">```   </span><br><span class="line">● 认证过程：在每笔交易或定期的设备认证过程中，终端设备使用 TAK 生成认证数据（如 MAC）。这些数据与其他交易信息一起发送到银行主机或支付系统，银行主机使用对应的 TAK 对认证数据进行验证，以确认该终端设备的合法性。</span><br><span class="line"></span><br><span class="line">● 加密和解密：TAK 通常使用对称加密算法（如 DES、3DES）进行加密和解密操作。终端设备和银行主机共享相同的 TAK，用于相互认证。</span><br><span class="line"></span><br><span class="line">● 消息认证码（MAC）生成：TAK 通常用于生成消息认证码（MAC），确保终端与银行系统之间的交易信息在传输过程中没有被篡改，并验证交易来源的合法性。 </span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="TAK-的典型使用场景："><a href="#TAK-的典型使用场景：" class="headerlink" title="TAK 的典型使用场景："></a>TAK 的典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. ATM 终端认证：当 ATM 终端与银行主机建立连接时，ATM 终端通过 TAK 生成认证信息（如 MAC），发送到银行主机进行验证。银行主机使用相同的 TAK 验证该 ATM 是否是合法的，并确保其可以进行交易处理。</span><br><span class="line"></span><br><span class="line">2. POS 终端认证：POS 终端使用 TAK 来生成认证码，确保 POS 设备是经过认证的合法设备，并防止伪造的设备通过网络进行欺诈交易。</span><br><span class="line"></span><br><span class="line">3. 设备与支付处理系统的安全通信：TAK 确保终端设备与支付处理系统之间的数据通信是经过认证和加密的，防止未经授权的设备访问支付网络或银行系统。</span><br></pre></td></tr></table></figure>

<h2 id="TAK-与其他密钥类型的区别："><a href="#TAK-与其他密钥类型的区别：" class="headerlink" title="TAK 与其他密钥类型的区别："></a>TAK 与其他密钥类型的区别：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● TPK（Terminal Pin Key）：TPK 主要用于加密用户的 PIN 码，而 TAK 则用于验证终端设备的合法性和通信的完整性。</span><br><span class="line"></span><br><span class="line">● TMK（Terminal Master Key）：TMK 是终端设备中的主密钥，用于加密和保护工作密钥（如 TPK、TAK），而 TAK 是专门用于终端设备认证的密钥。</span><br><span class="line"></span><br><span class="line">● ZAK（Zone Authentication Key）：ZAK 类似于 TAK，用于区域间的数据认证，但 TAK 主要用于终端设备的认证，而 ZAK 主要用于不同区域或系统间的数据传输认证。 </span><br></pre></td></tr></table></figure>

<h2 id="TAK-的安全管理："><a href="#TAK-的安全管理：" class="headerlink" title="TAK 的安全管理："></a>TAK 的安全管理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 密钥注入：TAK 在终端设备中通常通过安全的密钥注入过程完成。该过程必须在高度安全的环境下进行，以防止密钥泄露。通常，密钥注入是在硬件安全模块（HSM）或其他加密设备的帮助下完成。</span><br><span class="line"></span><br><span class="line">2. 定期更新：为了防止 TAK 长时间使用导致潜在的安全风险，金融系统通常会定期更新 TAK，并通过安全通道进行新的密钥分发。</span><br><span class="line"></span><br><span class="line">3. 防篡改保护：终端设备中使用的 TAK 受到严格的物理和逻辑保护。设备通常具有防篡改功能，确保在设备受到物理攻击时，TAK 不会泄露。</span><br></pre></td></tr></table></figure>

<h2 id="TAK-的生成与管理："><a href="#TAK-的生成与管理：" class="headerlink" title="TAK 的生成与管理："></a>TAK 的生成与管理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● 硬件安全模块（HSM）：TAK 的生成、存储和管理通常由 HSM 进行。HSM 提供高度安全的加密环境，确保 TAK 在生成和存储过程中不会被泄露。</span><br><span class="line"></span><br><span class="line">● 密钥分发：TAK 的分发通常通过加密通道进行，确保密钥在传输过程中的安全性。银行或支付处理机构会将 TAK 安全地注入到终端设备中。 </span><br></pre></td></tr></table></figure>

<h2 id="总结：-2"><a href="#总结：-2" class="headerlink" title="总结："></a>总结：</h2><p>TAK（Terminal Authentication Key）是一种重要的密钥，用于认证终端设备（如 ATM、POS 终端）的合法性，并确保其与银行或支付处理系统之间的通信安全。通过 TAK，交易系统能够验证终端设备的身份，并保护通信数据的完整性和真实性，从而防止设备欺诈和数据篡改等风险。</p>
<h1 id="PVK（Private-Key，私钥）"><a href="#PVK（Private-Key，私钥）" class="headerlink" title="PVK（Private Key，私钥）"></a>PVK（Private Key，私钥）</h1><p>PVK（Private Key，私钥）是非对称加密体系中的一个核心概念，它与公钥（Public Key）成对使用。私钥通常用于解密由公钥加密的数据，或用于生成数字签名来验证数据的完整性和身份真实性。PVK 是保护敏感信息和执行安全通信的关键，它在许多应用场景中都扮演着重要角色，尤其是在加密、身份认证和数字签名等领域。</p>
<h2 id="PVK-的主要用途："><a href="#PVK-的主要用途：" class="headerlink" title="PVK 的主要用途："></a>PVK 的主要用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 解密：在非对称加密体系中，使用公钥加密的数据只能由对应的私钥解密。因此，PVK 常用于解密加密消息，以确保只有授权方能够读取这些信息。</span><br><span class="line"></span><br><span class="line">2. 数字签名：PVK 还可以用于生成数字签名，证明数据的来源和完整性。签名后的数据可以由公钥进行验证，确保数据没有被篡改且来自持有私钥的一方。</span><br><span class="line"></span><br><span class="line">3. 身份认证：在安全通信或登录系统中，PVK 被用于证明用户或设备的身份。通过数字签名或加密挑战应答，持有 PVK 的一方可以向系统证明其身份的合法性。</span><br><span class="line"></span><br><span class="line">4. 密钥交换：PVK 在密钥交换协议中也起到关键作用，例如在 TLS（传输层安全）协议中，私钥用于协商会话密钥，确保通信的机密性。</span><br></pre></td></tr></table></figure>

<h2 id="PVK-的工作原理："><a href="#PVK-的工作原理：" class="headerlink" title="PVK 的工作原理："></a>PVK 的工作原理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 非对称加密：非对称加密使用一对密钥，公钥用于加密，私钥用于解密。PVK 是这对密钥中的私密部分，只有密钥持有者拥有。典型的非对称加密算法包括 RSA、ECC 等。</span><br><span class="line"></span><br><span class="line">2. 签名与验证：在数字签名过程中，PVK 用于对数据进行签名，生成的签名可由公钥验证。签名证明数据的来源，并确保在传输过程中未被篡改。</span><br></pre></td></tr></table></figure>

<h2 id="PVK-的典型使用场景："><a href="#PVK-的典型使用场景：" class="headerlink" title="PVK 的典型使用场景："></a>PVK 的典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. SSL/TLS 加密通信：在 HTTPS 通信中，服务器持有 PVK，用于解密客户端发送的加密数据，或者生成数字签名以证明服务器的身份。</span><br><span class="line"></span><br><span class="line">2. 加密电子邮件：在 PGP 或 S/MIME 等加密电子邮件系统中，收件人使用 PVK 解密加密的电子邮件内容，发件人使用 PVK 签署电子邮件以证明其来源。</span><br><span class="line"></span><br><span class="line">3. 区块链与加密货币：在区块链和加密货币系统（如比特币、以太坊）中，PVK 用于签署交易，证明交易的合法性，并确保只有私钥持有者可以发起资金转移。</span><br><span class="line"></span><br><span class="line">4. SSH 认证：在 SSH 连接中，用户通过 PVK 生成签名，服务器验证用户的身份，从而实现无密码的身份验证。</span><br></pre></td></tr></table></figure>

<h2 id="PVK-的安全管理："><a href="#PVK-的安全管理：" class="headerlink" title="PVK 的安全管理："></a>PVK 的安全管理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 私钥的保护：由于 PVK 是高度敏感的密钥，它必须得到严格的保护。通常，私钥存储在受保护的硬件中，如硬件安全模块（HSM）或智能卡，以防止未经授权的访问。</span><br><span class="line"></span><br><span class="line">2. 备份和恢复：PVK 的丢失将导致加密数据无法解密或签名无法验证。因此，私钥通常需要安全备份，并在必要时可以进行恢复。</span><br><span class="line"></span><br><span class="line">3. 密钥分发：由于 PVK 只能由持有者掌控，不能像公钥一样公开，因此其分发过程必须通过安全通道进行，确保私钥在传输过程中不会被截获。</span><br><span class="line"></span><br><span class="line">4. 密钥更新与轮换：为了避免长期使用的私钥被破解或泄露，PVK 通常会定期更新或轮换。在更新 PVK 时，新的私钥必须与旧的公钥关联，以确保系统的连续性。</span><br></pre></td></tr></table></figure>

<h2 id="PVK-与其他密钥类型的区别："><a href="#PVK-与其他密钥类型的区别：" class="headerlink" title="PVK 与其他密钥类型的区别："></a>PVK 与其他密钥类型的区别：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● 公钥（Public Key）：公钥是与 PVK 成对使用的密钥，通常公开用于加密数据或验证数字签名，而 PVK 负责解密和生成签名。</span><br><span class="line"></span><br><span class="line">● 对称密钥：对称密钥用于加密和解密同一密钥，PVK 仅在非对称加密体系中使用，在对称加密中不涉及私钥。</span><br><span class="line"> </span><br><span class="line">● TPK（Terminal Pin Key）、ZPK（Zone Pin Key）：这些密钥用于金融交易中的特定加密用途，如加密 PIN 码和传输数据，而 PVK 更广泛用于安全通信和身份认证。</span><br></pre></td></tr></table></figure>

<h2 id="总结：-3"><a href="#总结：-3" class="headerlink" title="总结："></a>总结：</h2><p>PVK（Private Key，私钥）是非对称加密体系中的关键密钥，用于解密数据、生成数字签名和验证身份。在各种安全通信、加密交易和身份认证系统中，PVK 是确保数据机密性和完整性的重要保障。由于其敏感性，PVK 需要在高度安全的环境中管理和存储，防止密钥泄露或被篡改。</p>
<h1 id="CVK（Card-Verification-Key，卡验证密钥）"><a href="#CVK（Card-Verification-Key，卡验证密钥）" class="headerlink" title="CVK（Card Verification Key，卡验证密钥）"></a>CVK（Card Verification Key，卡验证密钥）</h1><p>CVK（Card Verification Key，卡验证密钥）是一种用于金融系统中的密钥，专门用于生成和验证银行卡上的验证码（Card Verification Value, CVV），也称为卡验证码。CVK 是确保银行卡交易安全的重要组成部分，尤其是在非接触式或无卡支付交易中（如在线购物）。通过 CVK，发卡机构可以生成 CVV&#x2F;CVC 等卡验证值，确保卡片信息在交易中未被篡改。</p>
<h2 id="CVK-的主要用途："><a href="#CVK-的主要用途：" class="headerlink" title="CVK 的主要用途："></a>CVK 的主要用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 生成 CVV/CVC：CVK 主要用于生成银行卡上的验证码（CVV/CVC）。当持卡人进行交易时，系统使用卡号、有效期和服务码等信息通过 CVK 生成 CVV/CVC，用于验证卡片的真实性。</span><br><span class="line"></span><br><span class="line">2. 验证 CVV/CVC：在交易过程中，POS 终端或支付网关会将用户提供的卡片信息与系统生成的 CVV/CVC 进行比对，以确保交易的银行卡信息未被篡改。</span><br><span class="line"></span><br><span class="line">3. 保护交易安全：通过 CVK 生成和验证 CVV/CVC，银行能够减少由于卡片信息盗用或伪造导致的欺诈交易，尤其是在无卡交易（如电子商务）中。</span><br></pre></td></tr></table></figure>

<h2 id="CVK-的工作原理："><a href="#CVK-的工作原理：" class="headerlink" title="CVK 的工作原理："></a>CVK 的工作原理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 生成 CVV/CVC：CVV（Card Verification Value）或 CVC（Card Verification Code）是银行卡上的三位或四位数字，用于在线交易或电话支付。CVV 是使用 CVK 和卡片的基本信息（如卡号、有效期、服务码）通过加密算法生成的。</span><br><span class="line">   生成过程如下：</span><br><span class="line">   </span><br><span class="line">   ○ 系统使用 CVK、卡号（PAN）、卡片有效期等输入数据。</span><br><span class="line">   </span><br><span class="line">   ○ 通过加密算法生成 CVV/CVC，这个值是唯一的，且基于卡片的相关信息。</span><br><span class="line"></span><br><span class="line">2. 验证过程：当进行交易时，系统使用 CVK 再次生成 CVV，并与持卡人提供的 CVV 进行比对。如果两个值一致，则表明卡片和交易信息有效，交易可以继续进行。</span><br></pre></td></tr></table></figure>

<h2 id="CVK-的典型使用场景："><a href="#CVK-的典型使用场景：" class="headerlink" title="CVK 的典型使用场景："></a>CVK 的典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. POS 终端交易：在 POS 终端交易中，当卡片插入或刷卡后，POS 系统会通过 CVK 生成 CVV 并验证该卡片的合法性，防止伪造的卡片被用于交易。</span><br><span class="line"></span><br><span class="line">2. 无卡交易（在线支付、电话支付）：在在线购物或电话支付等无卡交易中，持卡人需要输入银行卡的 CVV/CVC 以完成支付。系统会使用 CVK 验证输入的 CVV 是否与卡片信息匹配，以防止卡片信息被盗用。</span><br><span class="line"></span><br><span class="line">3. ATM 交易：在 ATM 交易中，CVK 可用于验证卡片的合法性，确保持卡人的交易安全。</span><br><span class="line">   </span><br><span class="line">   CVK 与 CVV/CVC 的关系：</span><br><span class="line">   </span><br><span class="line">   ● CVV（Card Verification Value） 和 CVC（Card Verification Code） 是银行卡背面或正面的三位或四位数字，用于验证在线交易或无卡交易中的卡片信息。</span><br><span class="line">   </span><br><span class="line">   ● CVK 是生成这些验证值的密钥，通过特定算法将卡号、有效期等信息与 CVK 结合生成唯一的 CVV/CVC。</span><br><span class="line">   </span><br><span class="line">   ● CVK 不仅用于生成 CVV，还用于在交易中验证 CVV 的正确性，确保交易的安全性和卡片信息的完整性。</span><br></pre></td></tr></table></figure>

<h2 id="CVK-的安全管理："><a href="#CVK-的安全管理：" class="headerlink" title="CVK 的安全管理："></a>CVK 的安全管理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 加密保护：由于 CVK 是生成 CVV/CVC 的核心密钥，必须得到严格的加密和保护。通常，CVK 会存储在硬件安全模块（HSM）中，以防止未经授权的访问和使用。</span><br><span class="line"></span><br><span class="line">2. 密钥分发：CVK 的分发需要通过高度安全的加密通道完成，确保密钥在传输过程中不会被截获或泄露。</span><br><span class="line"></span><br><span class="line">3. 定期更新：为了确保密钥的安全性，CVK 需要定期进行更新或轮换，以防止长期使用导致的潜在安全风险。</span><br><span class="line"></span><br><span class="line">4. 多因素保护：CVK 通常由多重身份验证机制保护，只有授权人员可以访问和管理 CVK，防止密钥被篡改或泄露。</span><br></pre></td></tr></table></figure>

<p>CVK 与其他密钥类型的区别：</p>
<p>● TPK（Terminal Pin Key）：TPK 用于加密和解密用户的 PIN 码，确保用户身份认证的安全。而 CVK 是用于生成和验证 CVV&#x2F;CVC，确保卡片的合法性，二者的用途不同。</p>
<p>● ZPK（Zone Pin Key）：ZPK 主要用于跨区域的 PIN 传输加密，确保区域之间的交易安全。而 CVK 则用于验证卡片信息的完整性和合法性。</p>
<p>● KEK（Key Encryption Key）：KEK 是用于加密其他密钥的密钥，CVK 则专门用于生成和验证银行卡的验证码。</p>
<h2 id="总结：-4"><a href="#总结：-4" class="headerlink" title="总结："></a>总结：</h2><p>CVK（Card Verification Key，卡验证密钥）是一种用于生成和验证银行卡验证码（如 CVV&#x2F;CVC）的密钥类型。它在金融交易中，特别是在无卡支付或在线交易中，确保交易中的卡片信息是合法且未被篡改。通过使用 CVK，银行和支付机构可以有效减少伪卡交易或欺诈交易，保障支付系统的安全。</p>
<h1 id="ZEK（Zone-Encryption-Key，区域加密密钥）"><a href="#ZEK（Zone-Encryption-Key，区域加密密钥）" class="headerlink" title="ZEK（Zone Encryption Key，区域加密密钥）"></a>ZEK（Zone Encryption Key，区域加密密钥）</h1><p>ZEK（Zone Encryption Key，区域加密密钥）是一种用于加密和解密金融交易系统中不同区域之间传输数据的密钥。ZEK 通常用于确保在金融网络中传输的敏感信息（如交易数据、用户信息等）在不同区域（Zone）之间是安全的，并且不会在传输过程中被截获或篡改。ZEK 是金融系统中的一种高等级密钥，专门用于保护跨区域的数据交换安全。</p>
<h2 id="ZEK-的主要用途："><a href="#ZEK-的主要用途：" class="headerlink" title="ZEK 的主要用途："></a>ZEK 的主要用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 数据加密与解密：ZEK 主要用于加密和解密在不同区域（如银行与支付处理商之间）传输的敏感数据。通过使用 ZEK 加密，敏感的交易信息在传输过程中即使被拦截，也无法被破解或篡改。</span><br><span class="line"></span><br><span class="line">2. 跨区域数据保护：在金融网络中，通常存在多个区域（例如不同银行的系统、支付网关、处理中心等）。ZEK 用于确保这些区域之间的数据传输安全可靠，防止跨区域的通信被窃听或恶意篡改。</span><br><span class="line"></span><br><span class="line">3. 密钥加密和传输：除了加密交易数据，ZEK 也可以用于加密其他密钥（例如会话密钥或工作密钥），以确保这些密钥在区域之间传输时不会泄露。</span><br></pre></td></tr></table></figure>

<h2 id="ZEK-的工作原理："><a href="#ZEK-的工作原理：" class="headerlink" title="ZEK 的工作原理："></a>ZEK 的工作原理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 加密数据：ZEK 通过对称加密算法（如 DES、3DES）对跨区域传输的敏感数据进行加密。不同区域之间使用相同的 ZEK 进行加密和解密，确保只有授权的区域可以解密接收到的数据。</span><br><span class="line"></span><br><span class="line">2. 解密数据：接收方使用相同的 ZEK 对收到的加密数据进行解密，获取原始的交易信息或密钥。通过这种方式，确保数据在传输过程中不会被非法拦截或篡改。</span><br><span class="line"></span><br><span class="line">3. 跨区域密钥管理：ZEK 通常与其他密钥（如 ZPK、TPK 等）协同工作，以保护在不同金融机构、支付处理中心或区域之间的交易信息的安全。</span><br></pre></td></tr></table></figure>

<h2 id="ZEK-的典型使用场景："><a href="#ZEK-的典型使用场景：" class="headerlink" title="ZEK 的典型使用场景："></a>ZEK 的典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 银行与支付网关之间的数据传输：在银行系统与支付网关之间传输交易数据时，使用 ZEK 加密这些信息，确保交易数据在网络上传输时不会被窃取或篡改。</span><br><span class="line"></span><br><span class="line">2. 金融机构之间的敏感数据传输：在不同金融机构（如银行、支付处理中心、信用卡公司）之间传输敏感数据时，ZEK 用于加密这些信息，确保跨区域的交易和数据交换是安全的。</span><br><span class="line"></span><br><span class="line">3. ATM 与银行主机之间的数据传输：ATM 终端与银行服务器之间的通信常常使用 ZEK 进行加密，确保用户在 ATM 上进行的交易信息（如取款、转账等）在传输过程中不会被截获。</span><br></pre></td></tr></table></figure>

<h2 id="ZEK-与其他密钥类型的区别："><a href="#ZEK-与其他密钥类型的区别：" class="headerlink" title="ZEK 与其他密钥类型的区别："></a>ZEK 与其他密钥类型的区别：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">● ZPK（Zone Pin Key）：ZPK 专门用于加密和解密用户的 PIN 码，确保 PIN 在区域之间传输时的安全性。而 ZEK 主要用于加密交易数据或其他密钥，确保跨区域数据传输的安全。</span><br><span class="line"></span><br><span class="line">● TPK（Terminal Pin Key）：TPK 用于加密用户在终端设备（如 ATM、POS 终端）输入的 PIN 码，确保 PIN 码传输的安全性。ZEK 则专门用于保护区域之间的通信数据。</span><br><span class="line">   </span><br><span class="line">● KEK（Key Encryption Key）：KEK 是用于加密和传输其他密钥的密钥，ZEK 也可以用于密钥传输，但其主要作用是跨区域的数据加密。</span><br><span class="line"></span><br><span class="line">● ZMK（Zone Master Key）：ZMK 主要用于跨区域传输密钥，而 ZEK 主要用于跨区域传输交易数据和保护这些数据的安全。</span><br></pre></td></tr></table></figure>

<h2 id="ZEK-的安全管理："><a href="#ZEK-的安全管理：" class="headerlink" title="ZEK 的安全管理："></a>ZEK 的安全管理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 密钥的保护：由于 ZEK 用于保护跨区域的数据传输，其安全性至关重要。ZEK 通常存储在硬件安全模块（HSM）中，确保其不被非法访问或篡改。</span><br><span class="line"></span><br><span class="line">2. 定期轮换与更新：为了防止密钥泄露或长期使用带来的安全风险，ZEK 通常会定期进行轮换或更新。密钥更新过程需要通过安全的密钥管理系统进行。</span><br><span class="line"></span><br><span class="line">3. 多重身份验证：对 ZEK 的访问通常需要多重身份验证，确保只有授权的人员能够管理或使用该密钥。</span><br><span class="line"></span><br><span class="line">4. 密钥分发：ZEK 在不同区域之间的分发需要通过安全通道进行，确保密钥在传输过程中不会被截获或篡改。</span><br></pre></td></tr></table></figure>

<h2 id="总结：-5"><a href="#总结：-5" class="headerlink" title="总结："></a>总结：</h2><p>ZEK（Zone Encryption Key，区域加密密钥）是一种用于加密和解密在金融交易系统中不同区域之间传输数据的密钥类型。它通过加密跨区域的敏感信息，确保在银行、支付处理中心等不同系统之间传输的数据是安全的。ZEK 是保障金融网络安全的关键部分，特别是在确保跨区域通信和数据传输的保密性和完整性方面。</p>
<h1 id="WWK（Working-Key，工作密钥）"><a href="#WWK（Working-Key，工作密钥）" class="headerlink" title="WWK（Working Key，工作密钥）"></a>WWK（Working Key，工作密钥）</h1><p>WWK（Working Key，工作密钥）是一种在金融系统中用于加密和解密交易数据的密钥。它通常是一个临时使用的对称密钥，用于特定的交易会话。WWK 在密钥管理体系中被称为工作密钥，因为它在一段时间内有效，用于加密实际交易数据，确保敏感信息在传输中的安全性。</p>
<h2 id="WWK-的主要用途："><a href="#WWK-的主要用途：" class="headerlink" title="WWK 的主要用途："></a>WWK 的主要用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 交易数据加密：WWK 主要用于对金融交易数据进行加密。每次交易过程中，WWK 被用来加密敏感的交易信息（如 PIN、卡号、金额等），确保这些数据在传输时不被窃取或篡改。</span><br><span class="line"></span><br><span class="line">2. 临时会话密钥：WWK 通常是一个临时的密钥，专门用于一段时间或一个会话内的加密操作。在每个会话开始时，会生成一个新的 WWK，用于加密交易过程中的数据。</span><br><span class="line"></span><br><span class="line">3. 保护敏感数据：WWK 用于保护敏感信息，尤其是在终端设备（如 ATM 或 POS）与银行或支付网关之间传输时，确保交易过程中的数据是加密的，不会被攻击者读取或篡改。</span><br></pre></td></tr></table></figure>

<h2 id="WWK-的工作原理："><a href="#WWK-的工作原理：" class="headerlink" title="WWK 的工作原理："></a>WWK 的工作原理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 对称加密：WWK 使用对称加密算法（如 DES、3DES）来加密和解密交易数据。对称加密意味着加密和解密使用同一个密钥，这种方式比非对称加密效率更高，适合大量数据的加密操作。</span><br><span class="line"></span><br><span class="line">2. 生成与管理：WWK 是在会话或交易开始时生成的工作密钥，通常由一个主密钥（如 TMK 或 ZMK）派生出来，用于加密当前交易的数据。当会话结束时，WWK 会被销毁，保证密钥的临时性和安全性。</span><br><span class="line"></span><br><span class="line">3. 密钥加密与传输：为了安全地传输 WWK，通常会用更高等级的密钥（如 KEK 或 ZMK）对 WWK 进行加密，并在不同的系统或设备之间传输。接收方使用相应的主密钥解密后，才能使用 WWK 进行数据加密或解密。</span><br></pre></td></tr></table></figure>

<h2 id="WWK-的典型使用场景："><a href="#WWK-的典型使用场景：" class="headerlink" title="WWK 的典型使用场景："></a>WWK 的典型使用场景：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. ATM 交易：在 ATM 终端中，当用户发起交易时，系统会生成一个 WWK 用于该会话的加密。WWK 加密了用户的 PIN、交易金额等信息，并通过安全通道发送给银行系统进行验证。</span><br><span class="line"></span><br><span class="line">2. POS 终端交易：POS 终端也会在交易开始时生成 WWK，用于加密用户的卡片信息、PIN 码等敏感数据，并通过支付网关发送到银行系统，确保交易的安全。</span><br><span class="line"></span><br><span class="line">3. 在线支付：在电子商务交易中，WWK 可以用于加密敏感的支付信息，确保在线支付过程中用户的卡片和交易数据的安全性。</span><br></pre></td></tr></table></figure>

<p>WWK 与其他密钥类型的区别：</p>
<p>● TMK（Terminal Master Key）：TMK 是终端设备中的主密钥，通常用于加密和保护 WWK 等工作密钥，而 WWK 是用于实际交易数据的加密密钥。</p>
<p>● ZMK（Zone Master Key）：ZMK 主要用于跨区域传输密钥，而 WWK 是用于当前会话或交易中的实际加密操作。ZMK 可以用于加密和传输 WWK，确保密钥在不同设备之间传输时的安全。</p>
<p>● KEK（Key Encryption Key）：KEK 用于加密其他密钥（如 WWK），确保这些密钥在传输过程中不会被窃取或篡改。而 WWK 直接用于加密交易数据。</p>
<p>● TPK（Terminal Pin Key）：TPK 主要用于加密用户的 PIN 码，而 WWK 则用于加密其他敏感交易信息，如卡号、金额等。</p>
<h2 id="WWK-的安全管理："><a href="#WWK-的安全管理：" class="headerlink" title="WWK 的安全管理："></a>WWK 的安全管理：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 密钥的安全传输：WWK 通常通过加密后传输，确保密钥在设备和系统之间传递时不会被拦截。通常使用 KEK 或 ZMK 加密 WWK，确保传输过程的安全性。</span><br><span class="line"></span><br><span class="line">2. 临时性与销毁：WWK 是一个临时的工作密钥，通常在会话结束后就会销毁，确保密钥不会长期使用，降低密钥泄露的风险。</span><br><span class="line"></span><br><span class="line">3. 定期更新：由于 WWK 是动态生成的，它会随着每次会话或交易而变化，因此无需长期存储。定期的密钥轮换和更新进一步保证了系统的安全性。</span><br></pre></td></tr></table></figure>

<h2 id="总结：-6"><a href="#总结：-6" class="headerlink" title="总结："></a>总结：</h2><p>WWK（Working Key，工作密钥）是一种用于加密和保护金融交易数据的临时密钥。它在每个交易会话中被动态生成，负责加密传输过程中的敏感信息，如用户的 PIN 码、卡号、交易金额等。通过使用 WWK，可以确保金融交易中的数据在传输过程中是安全的，防止数据被窃取或篡改。WWK 通常通过更高等级的密钥（如 KEK 或 ZMK）进行加密和传输，确保其在不同设备和系统之间的安全性。</p>
<h1 id="BDK（Base-Derivation-Key，基础派生密钥）"><a href="#BDK（Base-Derivation-Key，基础派生密钥）" class="headerlink" title="BDK（Base Derivation Key，基础派生密钥）"></a>BDK（Base Derivation Key，基础派生密钥）</h1><p>BDK（Base Derivation Key，基础派生密钥）是金融系统中常见的一种密钥类型，主要用于生成和管理一系列工作密钥（Working Keys），通常用于加密支付卡交易中的敏感数据，如 PIN 码和卡片信息。BDK 是一种主密钥，金融机构使用它来派生其他用于具体交易的密钥，从而提高系统的安全性和密钥管理的灵活性。</p>
<h2 id="BDK-的主要用途："><a href="#BDK-的主要用途：" class="headerlink" title="BDK 的主要用途："></a>BDK 的主要用途：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 密钥派生：BDK 是派生其他密钥（如 DUKPT，Derived Unique Key Per Transaction，每笔交易派生唯一密钥）的基础密钥。通过 BDK，系统可以根据不同的交易条件（如交易序列号或卡号）生成唯一的密钥，用于加密特定交易的数据。</span><br><span class="line"></span><br><span class="line">2. 生成动态密钥：BDK 常用于生成动态密钥，这些动态密钥用于加密敏感数据，如交易中的 PIN、卡号等。通过动态密钥，可以确保每一笔交易使用不同的密钥，从而增强安全性。</span><br><span class="line"></span><br><span class="line">3. 密钥管理与分发：BDK 帮助金融机构在大规模交易中管理和分发密钥。金融系统可以通过 BDK 派生出多个工作密钥，从而简化密钥管理，降低泄露风险。</span><br></pre></td></tr></table></figure>

<h2 id="BDK-的工作原理："><a href="#BDK-的工作原理：" class="headerlink" title="BDK 的工作原理："></a>BDK 的工作原理：</h2><p>BDK 使用的是对称加密算法（如 DES 或 3DES），并在金融交易系统中用于生成派生密钥。派生密钥通常与 DUKPT 机制结合使用，确保每笔交易都有独立的加密密钥。BDK 的密钥派生机制如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 生成派生密钥：当 POS 终端或 ATM 终端发起交易时，系统会通过 BDK 和交易中的某些特定信息（如卡号或终端的唯一标识符）生成一个派生密钥。这个密钥仅用于当前交易，并在交易结束后失效。</span><br><span class="line"></span><br><span class="line">2. 加密敏感数据：派生密钥用于加密交易中的敏感信息，如 PIN 码、卡号或其他客户数据。由于每笔交易使用的密钥都是不同的，即使攻击者截获了一个密钥或交易信息，也无法用于其他交易。</span><br><span class="line"></span><br><span class="line">3. 密钥派生机制的安全性：BDK 本身不会直接用于加密数据，而是用于生成派生密钥。这样，即使某个派生密钥被攻击者破解，其他交易的安全性也不会受到影响，因为每笔交易都有不同的密钥。</span><br><span class="line">```   </span><br><span class="line"></span><br><span class="line">## BDK 的典型使用场景：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li><p>DUKPT 密钥管理体系：BDK 是 DUKPT（Derived Unique Key Per Transaction，每笔交易派生唯一密钥）体系的核心。在这种体系中，POS 终端或 ATM 使用 BDK 派生出交易唯一密钥，用于加密每次交易的 PIN 或其他敏感信息。</p>
</li>
<li><p>POS 终端和 ATM 交易：在 POS 或 ATM 终端中，BDK 用于派生密钥并加密交易数据。当持卡人在终端输入 PIN 时，终端生成的派生密钥通过 BDK 进行计算，确保每笔交易都有独立的加密密钥。</p>
</li>
<li><p>加密交易的敏感数据：BDK 生成的派生密钥用于加密金融交易中的各种敏感数据，包括客户的 PIN 码、卡号、交易金额等，确保这些数据在传输过程中不会被泄露或篡改。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">BDK 与其他密钥类型的区别：</span><br><span class="line"></span><br><span class="line">● TPK（Terminal Pin Key）：TPK 专门用于加密用户输入的 PIN 码，而 BDK 是用于派生密钥的基础密钥，帮助生成多个不同的工作密钥。</span><br><span class="line">   </span><br><span class="line">● KEK（Key Encryption Key）：KEK 用于加密其他密钥，而 BDK 是用于生成动态派生密钥。BDK 不直接加密数据，但通过派生机制来间接实现加密。</span><br><span class="line">   </span><br><span class="line">● ZMK（Zone Master Key）：ZMK 是用于区域之间传输和加密密钥的主密钥，而 BDK 主要用于生成交易中的动态密钥，确保每笔交易的密钥独立。</span><br><span class="line"></span><br><span class="line">● WWK（Working Key）：WWK 是交易中用于加密具体数据的临时工作密钥，而 BDK 是用于生成这些工作密钥的基础密钥。 </span><br><span class="line">## BDK 的安全管理：</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>密钥保护：BDK 是高度敏感的主密钥，通常存储在硬件安全模块（HSM）中，以确保密钥的安全性，防止未经授权的访问或泄露。</p>
</li>
<li><p>密钥轮换与更新：金融机构通常会定期更新 BDK 以防止长期使用带来的安全风险。密钥的更新过程通常通过高度加密的通道进行，确保密钥传输的安全性。</p>
</li>
<li><p>密钥分发：BDK 不会直接分发到终端设备中。相反，终端设备使用一个派生机制来通过 BDK 生成交易密钥。终端和服务器之间的通信必须通过安全的加密通道，以确保敏感信息的传输安全。</p>
</li>
</ol>
<pre><code>
## 总结：
BDK（Base Derivation Key，基础派生密钥）是金融系统中用于生成派生密钥的重要主密钥。它通过派生机制生成动态的工作密钥，确保每笔交易的加密数据都是独立的，从而增强了交易的安全性。BDK 通常用于 DUKPT 密钥管理体系，在 ATM、POS 终端以及其他金融交易中广泛应用。由于 BDK 对金融系统的安全至关重要，它通常受到严格的保护和管理，存储在安全的硬件模块中，并定期进行轮换和更新。














</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://ddd887.github.io">是苹果啊</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://ddd887.github.io/archives/1b745eac.html">https://ddd887.github.io/archives/1b745eac.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ddd887.github.io" target="_blank">是苹果啊</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%8A%A0%E5%AF%86%E5%B9%B3%E5%8F%B0/">加密平台</a></div><div class="post_share"><div class="social-share" data-image="https://pic.888888.al/i/2024/11/07/r23hxj.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://pic.888888.al/i/2023/08/15/sv49cq.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://pic.888888.al/i/2023/08/15/sv49cq.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://pic.888888.al/i/2023/08/15/sv7xxm.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://pic.888888.al/i/2023/08/15/sv7xxm.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/archives/dd23fb4f.html"><img class="next-cover" src="https://pic.888888.al/i/2024/11/07/p2nb78.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">PKCS填充方式</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pic.888888.al/i/2023/08/15/qn7803.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">是苹果啊</div><div class="author-info__description">步履不停</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ddd887"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ddd887" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:2301002710@qq.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://pic.888888.al/i/2023/08/15/12khmuy.png" rel="external nofollow noreferrer" target="_blank" title="QQ"><i class="fa-brands fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">开心最重要！！！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ZPK%EF%BC%88Zone-Pin-Key%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">ZPK（Zone Pin Key）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ZPK-%E7%9A%84%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">ZPK 的用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZPK-%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">ZPK 典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZPK-%E7%9A%84%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">1.3.</span> <span class="toc-text">ZPK 的安全机制：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZPK-%E4%B8%8E%E5%85%B6%E4%BB%96%E5%AF%86%E9%92%A5%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">1.4.</span> <span class="toc-text">ZPK 与其他密钥类型的区别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">1.5.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ZAK%EF%BC%88Zone-Authentication-Key%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">ZAK（Zone Authentication Key）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ZAK-%E7%9A%84%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">ZAK 的用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZAK-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">ZAK 的工作原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZAK-%E7%9A%84%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">ZAK 的典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZAK-%E4%B8%8E%E5%85%B6%E4%BB%96%E5%AF%86%E9%92%A5%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">2.4.</span> <span class="toc-text">ZAK 与其他密钥类型的区别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A-1"><span class="toc-number">2.5.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ZMK%EF%BC%88Zone-Master-Key%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">ZMK（Zone Master Key）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ZMK-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">ZMK 的主要用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZMK-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">3.2.</span> <span class="toc-text">ZMK 的工作原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZMK-%E7%9A%84%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">3.3.</span> <span class="toc-text">ZMK 的典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TAK-%E7%9A%84%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">3.4.</span> <span class="toc-text">TAK 的典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TAK-%E4%B8%8E%E5%85%B6%E4%BB%96%E5%AF%86%E9%92%A5%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">3.5.</span> <span class="toc-text">TAK 与其他密钥类型的区别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TAK-%E7%9A%84%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">3.6.</span> <span class="toc-text">TAK 的安全管理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TAK-%E7%9A%84%E7%94%9F%E6%88%90%E4%B8%8E%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">3.7.</span> <span class="toc-text">TAK 的生成与管理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A-2"><span class="toc-number">3.8.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PVK%EF%BC%88Private-Key%EF%BC%8C%E7%A7%81%E9%92%A5%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">PVK（Private Key，私钥）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PVK-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">PVK 的主要用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PVK-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">4.2.</span> <span class="toc-text">PVK 的工作原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PVK-%E7%9A%84%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">4.3.</span> <span class="toc-text">PVK 的典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PVK-%E7%9A%84%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">4.4.</span> <span class="toc-text">PVK 的安全管理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PVK-%E4%B8%8E%E5%85%B6%E4%BB%96%E5%AF%86%E9%92%A5%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">4.5.</span> <span class="toc-text">PVK 与其他密钥类型的区别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A-3"><span class="toc-number">4.6.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CVK%EF%BC%88Card-Verification-Key%EF%BC%8C%E5%8D%A1%E9%AA%8C%E8%AF%81%E5%AF%86%E9%92%A5%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">CVK（Card Verification Key，卡验证密钥）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CVK-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">5.1.</span> <span class="toc-text">CVK 的主要用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CVK-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">CVK 的工作原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CVK-%E7%9A%84%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">5.3.</span> <span class="toc-text">CVK 的典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CVK-%E7%9A%84%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">5.4.</span> <span class="toc-text">CVK 的安全管理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A-4"><span class="toc-number">5.5.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ZEK%EF%BC%88Zone-Encryption-Key%EF%BC%8C%E5%8C%BA%E5%9F%9F%E5%8A%A0%E5%AF%86%E5%AF%86%E9%92%A5%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">ZEK（Zone Encryption Key，区域加密密钥）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ZEK-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">6.1.</span> <span class="toc-text">ZEK 的主要用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZEK-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">6.2.</span> <span class="toc-text">ZEK 的工作原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZEK-%E7%9A%84%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">6.3.</span> <span class="toc-text">ZEK 的典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZEK-%E4%B8%8E%E5%85%B6%E4%BB%96%E5%AF%86%E9%92%A5%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">6.4.</span> <span class="toc-text">ZEK 与其他密钥类型的区别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZEK-%E7%9A%84%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">6.5.</span> <span class="toc-text">ZEK 的安全管理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A-5"><span class="toc-number">6.6.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#WWK%EF%BC%88Working-Key%EF%BC%8C%E5%B7%A5%E4%BD%9C%E5%AF%86%E9%92%A5%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">WWK（Working Key，工作密钥）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#WWK-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">7.1.</span> <span class="toc-text">WWK 的主要用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WWK-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">7.2.</span> <span class="toc-text">WWK 的工作原理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WWK-%E7%9A%84%E5%85%B8%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">7.3.</span> <span class="toc-text">WWK 的典型使用场景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WWK-%E7%9A%84%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">7.4.</span> <span class="toc-text">WWK 的安全管理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A-6"><span class="toc-number">7.5.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BDK%EF%BC%88Base-Derivation-Key%EF%BC%8C%E5%9F%BA%E7%A1%80%E6%B4%BE%E7%94%9F%E5%AF%86%E9%92%A5%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">BDK（Base Derivation Key，基础派生密钥）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#BDK-%E7%9A%84%E4%B8%BB%E8%A6%81%E7%94%A8%E9%80%94%EF%BC%9A"><span class="toc-number">8.1.</span> <span class="toc-text">BDK 的主要用途：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BDK-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">8.2.</span> <span class="toc-text">BDK 的工作原理：</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/archives/1b745eac.html" title="密钥类型介绍"><img src="https://pic.888888.al/i/2024/11/07/r23hxj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="密钥类型介绍"/></a><div class="content"><a class="title" href="/archives/1b745eac.html" title="密钥类型介绍">密钥类型介绍</a><time datetime="2024-11-07T07:46:42.096Z" title="发表于 2024-11-07 15:46:42">2024-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/archives/dd23fb4f.html" title="PKCS填充方式"><img src="https://pic.888888.al/i/2024/11/07/p2nb78.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PKCS填充方式"/></a><div class="content"><a class="title" href="/archives/dd23fb4f.html" title="PKCS填充方式">PKCS填充方式</a><time datetime="2024-11-07T06:20:48.206Z" title="发表于 2024-11-07 14:20:48">2024-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/archives/7432e8d4.html" title="安全合规工作的简单思考与总结"><img src="https://pic.888888.al/i/2024/11/06/rb9sy8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安全合规工作的简单思考与总结"/></a><div class="content"><a class="title" href="/archives/7432e8d4.html" title="安全合规工作的简单思考与总结">安全合规工作的简单思考与总结</a><time datetime="2024-11-06T08:34:56.994Z" title="发表于 2024-11-06 16:34:56">2024-11-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/archives/afb5413b.html" title="KindEditor文件上传漏洞"><img src="https://pic.888888.al/i/2023/08/15/11byltz.jfif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="KindEditor文件上传漏洞"/></a><div class="content"><a class="title" href="/archives/afb5413b.html" title="KindEditor文件上传漏洞">KindEditor文件上传漏洞</a><time datetime="2023-08-15T14:47:15.977Z" title="发表于 2023-08-15 22:47:15">2023-08-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/archives/5a428c68.html" title="JAVA反序列化漏洞基础"><img src="https://pic.888888.al/i/2023/08/15/10yo3t9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JAVA反序列化漏洞基础"/></a><div class="content"><a class="title" href="/archives/5a428c68.html" title="JAVA反序列化漏洞基础">JAVA反序列化漏洞基础</a><time datetime="2023-04-23T13:00:50.304Z" title="发表于 2023-04-23 21:00:50">2023-04-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020d - 2024 By 是苹果啊</div><div class="footer_custom_text">到底啦，真的没有了😤</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>